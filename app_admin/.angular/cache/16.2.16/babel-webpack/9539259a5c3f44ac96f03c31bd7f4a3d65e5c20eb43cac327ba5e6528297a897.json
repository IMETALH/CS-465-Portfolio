{"ast":null,"code":"import { TripDataService } from '../services/trip-data.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/trip-data.service\";\nimport * as i2 from \"../services/authentication.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../trip-card/trip-card.component\";\nfunction TripListingComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function TripListingComponent_div_0_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.addTrip());\n    });\n    i0.ɵɵtext(2, \"Add Trip\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction TripListingComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-trip-card\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const trip_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"trip\", trip_r4);\n  }\n}\n//import { Observable } from 'rxjs';\nexport class TripListingComponent {\n  constructor(tripDataService, authenticationService, router) {\n    this.tripDataService = tripDataService;\n    this.authenticationService = authenticationService;\n    this.router = router;\n    this.trips = [];\n    this.message = '';\n  }\n  addTrip() {\n    console.log('Inside TripListingComponent#addTrip');\n    this.router.navigate(['add-trip']);\n  }\n  getTrips() {\n    console.log('Inside TripListingComponent#getTrips');\n    this.message = 'Searching for trips';\n    // Using Observable and subscribing to it\n    this.tripDataService.getTrips().subscribe({\n      next: foundTrips => {\n        this.message = foundTrips.length > 0 ? '' : 'No trips found';\n        this.trips = foundTrips;\n      },\n      error: err => {\n        this.message = 'Error retrieving trips';\n        console.error(err);\n      }\n    });\n  }\n  isLoggedIn() {\n    return this.authenticationService.isLoggedIn();\n  }\n  ngOnInit() {\n    this.getTrips();\n  }\n  static {\n    this.ɵfac = function TripListingComponent_Factory(t) {\n      return new (t || TripListingComponent)(i0.ɵɵdirectiveInject(i1.TripDataService), i0.ɵɵdirectiveInject(i2.AuthenticationService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TripListingComponent,\n      selectors: [[\"app-trip-listing\"]],\n      features: [i0.ɵɵProvidersFeature([TripDataService])],\n      decls: 3,\n      vars: 2,\n      consts: [[\"class\", \"container\", 4, \"ngIf\"], [1, \"row\"], [4, \"ngFor\", \"ngForOf\"], [1, \"container\"], [1, \"btn\", \"btn-info\", 3, \"click\"], [1, \"card-deck\", \"mt-2\", 3, \"trip\"]],\n      template: function TripListingComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, TripListingComponent_div_0_Template, 3, 0, \"div\", 0);\n          i0.ɵɵelementStart(1, \"div\", 1);\n          i0.ɵɵtemplate(2, TripListingComponent_div_2_Template, 2, 1, \"div\", 2);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn());\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.trips);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i5.TripCardComponent],\n      styles: [\"\\n\\n.form-group[_ngcontent-%COMP%] {\\n    margin-bottom: 1rem; \\n\\n  }\\n  \\n\\n  \\n\\n.col-md-3[_ngcontent-%COMP%] {\\n    margin: 0 auto; \\n\\n    padding: 1rem; \\n\\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); \\n\\n    background-color: #f8f9fa; \\n\\n    border-radius: 8px; \\n\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdHJpcC1saXN0aW5nL3RyaXAtbGlzdGluZy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQztBQUN0QztJQUNJLG1CQUFtQixFQUFFLDhCQUE4QjtFQUNyRDs7O0VBR0EsNENBQTRDO0FBQzlDO0lBQ0ksY0FBYyxFQUFFLGlDQUFpQztJQUNqRCxhQUFhLEVBQUUsc0NBQXNDO0lBQ3JELHdDQUF3QyxFQUFFLDJCQUEyQjtJQUNyRSx5QkFBeUIsRUFBRSwrQkFBK0I7SUFDMUQsa0JBQWtCLEVBQUUsOEJBQThCO0VBQ3BEIiwic291cmNlc0NvbnRlbnQiOlsiLyogQWRkIHNwYWNpbmcgYmV0d2VlbiBmb3JtIGVsZW1lbnRzICovXHJcbi5mb3JtLWdyb3VwIHtcclxuICAgIG1hcmdpbi1ib3R0b206IDFyZW07IC8qIEVuc3VyZSBjb25zaXN0ZW50IHNwYWNpbmcgKi9cclxuICB9XHJcbiAgXHJcblxyXG4gIC8qIE9wdGlvbmFsOiBDZW50ZXItYWxpZ24gdGhlIGZvcm0gY29udGVudCAqL1xyXG4uY29sLW1kLTMge1xyXG4gICAgbWFyZ2luOiAwIGF1dG87IC8qIENlbnRlciB0aGUgZm9ybSBob3Jpem9udGFsbHkgKi9cclxuICAgIHBhZGRpbmc6IDFyZW07IC8qIEFkZCBwYWRkaW5nIGZvciBiZXR0ZXIgYXBwZWFyYW5jZSAqL1xyXG4gICAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwgMCwgMCwgMC4xKTsgLyogT3B0aW9uYWw6IEFkZCBhIHNoYWRvdyAqL1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsgLyogT3B0aW9uYWw6IExpZ2h0IGJhY2tncm91bmQgKi9cclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDsgLyogT3B0aW9uYWw6IFJvdW5kZWQgY29ybmVycyAqL1xyXG4gIH0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["TripDataService","i0","ɵɵelementStart","ɵɵlistener","TripListingComponent_div_0_Template_button_click_1_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","addTrip","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty","trip_r4","TripListingComponent","constructor","tripDataService","authenticationService","router","trips","message","console","log","navigate","getTrips","subscribe","next","foundTrips","length","error","err","isLoggedIn","ngOnInit","ɵɵdirectiveInject","i1","i2","AuthenticationService","i3","Router","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","TripListingComponent_Template","rf","ctx","ɵɵtemplate","TripListingComponent_div_0_Template","TripListingComponent_div_2_Template"],"sources":["C:\\Users\\Kenyk\\Desktop\\SNHUCompSci\\CS-465-Portfolio\\CS-465-Portfolio\\app_admin\\src\\app\\trip-listing\\trip-listing.component.ts","C:\\Users\\Kenyk\\Desktop\\SNHUCompSci\\CS-465-Portfolio\\CS-465-Portfolio\\app_admin\\src\\app\\trip-listing\\trip-listing.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { TripDataService } from '../services/trip-data.service';\r\nimport { AuthenticationService } from '../services/authentication.service';\r\nimport { Trip } from '../models/trip';\r\n//import { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-trip-listing',\r\n  templateUrl: './trip-listing.component.html',\r\n  styleUrls: ['./trip-listing.component.css'],\r\n  providers: [TripDataService]\r\n})\r\nexport class TripListingComponent implements OnInit {\r\n\r\n  trips: Trip[] = [];\r\n  message: string = '';\r\n\r\n  constructor(\r\n    private tripDataService: TripDataService,\r\n    private authenticationService: AuthenticationService,\r\n    private router: Router  \r\n  ) { }\r\n\r\n  public addTrip(): void {\r\n    console.log('Inside TripListingComponent#addTrip');\r\n    this.router.navigate(['add-trip']);\r\n  }\r\n\r\n  private getTrips(): void {\r\n    console.log('Inside TripListingComponent#getTrips');\r\n    this.message = 'Searching for trips';\r\n\r\n    // Using Observable and subscribing to it\r\n    this.tripDataService.getTrips().subscribe({\r\n      next: (foundTrips: Trip[]) => {\r\n        this.message = foundTrips.length > 0 ? '' : 'No trips found';\r\n        this.trips = foundTrips;\r\n      },\r\n      error: (err) => {\r\n        this.message = 'Error retrieving trips';\r\n        console.error(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  public isLoggedIn(): boolean {\r\n    return this.authenticationService.isLoggedIn();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getTrips();\r\n  }\r\n}","<!-- <pre>{{ trips | json }}</pre> -->\r\n\r\n<div *ngIf=\"isLoggedIn()\" class=\"container\">\r\n    <button (click)=\"addTrip()\" class=\"btn btn-info\">Add Trip</button>\r\n</div>\r\n\r\n<div class=\"row\">\r\n    <div *ngFor=\"let trip of trips\">\r\n        <app-trip-card [trip]=\"trip\" class=\"card-deck mt-2\"></app-trip-card>\r\n        </div>\r\n    </div>"],"mappings":"AAEA,SAASA,eAAe,QAAQ,+BAA+B;;;;;;;;;;ICA/DC,EAAA,CAAAC,cAAA,aAA4C;IAChCD,EAAA,CAAAE,UAAA,mBAAAC,4DAAA;MAAAH,EAAA,CAAAI,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAN,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAAF,MAAA,CAAAG,OAAA,EAAS;IAAA,EAAC;IAAsBT,EAAA,CAAAU,MAAA,eAAQ;IAAAV,EAAA,CAAAW,YAAA,EAAS;;;;;IAIlEX,EAAA,CAAAC,cAAA,UAAgC;IAC5BD,EAAA,CAAAY,SAAA,uBAAoE;IACpEZ,EAAA,CAAAW,YAAA,EAAM;;;;IADSX,EAAA,CAAAa,SAAA,GAAa;IAAbb,EAAA,CAAAc,UAAA,SAAAC,OAAA,CAAa;;;ADHpC;AAQA,OAAM,MAAOC,oBAAoB;EAK/BC,YACUC,eAAgC,EAChCC,qBAA4C,EAC5CC,MAAc;IAFd,KAAAF,eAAe,GAAfA,eAAe;IACf,KAAAC,qBAAqB,GAArBA,qBAAqB;IACrB,KAAAC,MAAM,GAANA,MAAM;IANhB,KAAAC,KAAK,GAAW,EAAE;IAClB,KAAAC,OAAO,GAAW,EAAE;EAMhB;EAEGb,OAAOA,CAAA;IACZc,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;IAClD,IAAI,CAACJ,MAAM,CAACK,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;EACpC;EAEQC,QAAQA,CAAA;IACdH,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;IACnD,IAAI,CAACF,OAAO,GAAG,qBAAqB;IAEpC;IACA,IAAI,CAACJ,eAAe,CAACQ,QAAQ,EAAE,CAACC,SAAS,CAAC;MACxCC,IAAI,EAAGC,UAAkB,IAAI;QAC3B,IAAI,CAACP,OAAO,GAAGO,UAAU,CAACC,MAAM,GAAG,CAAC,GAAG,EAAE,GAAG,gBAAgB;QAC5D,IAAI,CAACT,KAAK,GAAGQ,UAAU;MACzB,CAAC;MACDE,KAAK,EAAGC,GAAG,IAAI;QACb,IAAI,CAACV,OAAO,GAAG,wBAAwB;QACvCC,OAAO,CAACQ,KAAK,CAACC,GAAG,CAAC;MACpB;KACD,CAAC;EACJ;EAEOC,UAAUA,CAAA;IACf,OAAO,IAAI,CAACd,qBAAqB,CAACc,UAAU,EAAE;EAChD;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACR,QAAQ,EAAE;EACjB;;;uBAvCWV,oBAAoB,EAAAhB,EAAA,CAAAmC,iBAAA,CAAAC,EAAA,CAAArC,eAAA,GAAAC,EAAA,CAAAmC,iBAAA,CAAAE,EAAA,CAAAC,qBAAA,GAAAtC,EAAA,CAAAmC,iBAAA,CAAAI,EAAA,CAAAC,MAAA;IAAA;EAAA;;;YAApBxB,oBAAoB;MAAAyB,SAAA;MAAAC,QAAA,GAAA1C,EAAA,CAAA2C,kBAAA,CAFpB,CAAC5C,eAAe,CAAC;MAAA6C,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCT9BjD,EAAA,CAAAmD,UAAA,IAAAC,mCAAA,iBAEM;UAENpD,EAAA,CAAAC,cAAA,aAAiB;UACbD,EAAA,CAAAmD,UAAA,IAAAE,mCAAA,iBAEU;UACVrD,EAAA,CAAAW,YAAA,EAAM;;;UARJX,EAAA,CAAAc,UAAA,SAAAoC,GAAA,CAAAjB,UAAA,GAAkB;UAKEjC,EAAA,CAAAa,SAAA,GAAQ;UAARb,EAAA,CAAAc,UAAA,YAAAoC,GAAA,CAAA7B,KAAA,CAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}