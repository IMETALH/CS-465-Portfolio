{"ast":null,"code":"import { TripDataService } from '../services/trip-data.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/trip-data.service\";\nimport * as i2 from \"../services/authentication.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../trip-card/trip-card.component\";\nfunction TripListingComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-trip-card\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const trip_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"trip\", trip_r1);\n  }\n}\n//import { Observable } from 'rxjs';\nexport class TripListingComponent {\n  constructor(tripDataService, authenticationService, router) {\n    this.tripDataService = tripDataService;\n    this.authenticationService = authenticationService;\n    this.router = router;\n    this.trips = [];\n    this.message = '';\n  }\n  addTrip() {\n    console.log('Inside TripListingComponent#addTrip');\n    this.router.navigate(['add-trip']);\n  }\n  getTrips() {\n    console.log('Inside TripListingComponent#getTrips');\n    this.message = 'Searching for trips';\n    // Using Observable and subscribing to it\n    this.tripDataService.getTrips().subscribe({\n      next: foundTrips => {\n        this.message = foundTrips.length > 0 ? '' : 'No trips found';\n        this.trips = foundTrips;\n      },\n      error: err => {\n        this.message = 'Error retrieving trips';\n        console.error(err);\n      }\n    });\n  }\n  ngOnInit() {\n    this.getTrips();\n  }\n  isLoggedIn() {\n    return this.authenticationService.isLoggedIn();\n  }\n  static {\n    this.ɵfac = function TripListingComponent_Factory(t) {\n      return new (t || TripListingComponent)(i0.ɵɵdirectiveInject(i1.TripDataService), i0.ɵɵdirectiveInject(i2.AuthenticationService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TripListingComponent,\n      selectors: [[\"app-trip-listing\"]],\n      features: [i0.ɵɵProvidersFeature([TripDataService])],\n      decls: 5,\n      vars: 1,\n      consts: [[1, \"btn\", \"btn-info\", 3, \"click\"], [1, \"row\"], [4, \"ngFor\", \"ngForOf\"], [1, \"card-deck\", \"mt-2\", 3, \"trip\"]],\n      template: function TripListingComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\")(1, \"button\", 0);\n          i0.ɵɵlistener(\"click\", function TripListingComponent_Template_button_click_1_listener() {\n            return ctx.addTrip();\n          });\n          i0.ɵɵtext(2, \"Add Trip\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(3, \"div\", 1);\n          i0.ɵɵtemplate(4, TripListingComponent_div_4_Template, 2, 1, \"div\", 2);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", ctx.trips);\n        }\n      },\n      dependencies: [i4.NgForOf, i5.TripCardComponent],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["TripDataService","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","trip_r1","TripListingComponent","constructor","tripDataService","authenticationService","router","trips","message","addTrip","console","log","navigate","getTrips","subscribe","next","foundTrips","length","error","err","ngOnInit","isLoggedIn","ɵɵdirectiveInject","i1","i2","AuthenticationService","i3","Router","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","TripListingComponent_Template","rf","ctx","ɵɵlistener","TripListingComponent_Template_button_click_1_listener","ɵɵtext","ɵɵtemplate","TripListingComponent_div_4_Template"],"sources":["C:\\Users\\Kenyk\\Desktop\\SNHUCompSci\\CS-465-Portfolio\\CS-465-Portfolio\\app_admin\\src\\app\\trip-listing\\trip-listing.component.ts","C:\\Users\\Kenyk\\Desktop\\SNHUCompSci\\CS-465-Portfolio\\CS-465-Portfolio\\app_admin\\src\\app\\trip-listing\\trip-listing.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { TripDataService } from '../services/trip-data.service';\r\nimport { AuthenticationService } from '../services/authentication.service';\r\nimport { Trip } from '../models/trip';\r\n//import { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-trip-listing',\r\n  templateUrl: './trip-listing.component.html',\r\n  styleUrls: ['./trip-listing.component.css'],\r\n  providers: [TripDataService]\r\n})\r\nexport class TripListingComponent implements OnInit {\r\n\r\n  trips: Trip[] = [];\r\n  message: string = '';\r\n\r\n  constructor(\r\n    private tripDataService: TripDataService,\r\n    private authenticationService: AuthenticationService,\r\n    private router: Router  \r\n  ) { }\r\n\r\n  public addTrip(): void {\r\n    console.log('Inside TripListingComponent#addTrip');\r\n    this.router.navigate(['add-trip']);\r\n  }\r\n\r\n  private getTrips(): void {\r\n    console.log('Inside TripListingComponent#getTrips');\r\n    this.message = 'Searching for trips';\r\n\r\n    // Using Observable and subscribing to it\r\n    this.tripDataService.getTrips().subscribe({\r\n      next: (foundTrips: Trip[]) => {\r\n        this.message = foundTrips.length > 0 ? '' : 'No trips found';\r\n        this.trips = foundTrips;\r\n      },\r\n      error: (err) => {\r\n        this.message = 'Error retrieving trips';\r\n        console.error(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getTrips();\r\n  }\r\n\r\n  public isLoggedIn(): boolean {\r\n    return this.authenticationService.isLoggedIn();\r\n  }\r\n\r\n}","<!-- <pre>{{ trips | json }}</pre> -->\r\n\r\n<div>\r\n    <button (click)=\"addTrip()\" class=\"btn btn-info\">Add Trip</button>\r\n</div>\r\n\r\n<div class=\"row\">\r\n    <div *ngFor=\"let trip of trips\">\r\n        <app-trip-card [trip]=\"trip\" class=\"card-deck mt-2\"></app-trip-card>\r\n        </div>\r\n    </div>"],"mappings":"AAEA,SAASA,eAAe,QAAQ,+BAA+B;;;;;;;;;ICK3DC,EAAA,CAAAC,cAAA,UAAgC;IAC5BD,EAAA,CAAAE,SAAA,uBAAoE;IACpEF,EAAA,CAAAG,YAAA,EAAM;;;;IADSH,EAAA,CAAAI,SAAA,GAAa;IAAbJ,EAAA,CAAAK,UAAA,SAAAC,OAAA,CAAa;;;ADHpC;AAQA,OAAM,MAAOC,oBAAoB;EAK/BC,YACUC,eAAgC,EAChCC,qBAA4C,EAC5CC,MAAc;IAFd,KAAAF,eAAe,GAAfA,eAAe;IACf,KAAAC,qBAAqB,GAArBA,qBAAqB;IACrB,KAAAC,MAAM,GAANA,MAAM;IANhB,KAAAC,KAAK,GAAW,EAAE;IAClB,KAAAC,OAAO,GAAW,EAAE;EAMhB;EAEGC,OAAOA,CAAA;IACZC,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;IAClD,IAAI,CAACL,MAAM,CAACM,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;EACpC;EAEQC,QAAQA,CAAA;IACdH,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;IACnD,IAAI,CAACH,OAAO,GAAG,qBAAqB;IAEpC;IACA,IAAI,CAACJ,eAAe,CAACS,QAAQ,EAAE,CAACC,SAAS,CAAC;MACxCC,IAAI,EAAGC,UAAkB,IAAI;QAC3B,IAAI,CAACR,OAAO,GAAGQ,UAAU,CAACC,MAAM,GAAG,CAAC,GAAG,EAAE,GAAG,gBAAgB;QAC5D,IAAI,CAACV,KAAK,GAAGS,UAAU;MACzB,CAAC;MACDE,KAAK,EAAGC,GAAG,IAAI;QACb,IAAI,CAACX,OAAO,GAAG,wBAAwB;QACvCE,OAAO,CAACQ,KAAK,CAACC,GAAG,CAAC;MACpB;KACD,CAAC;EACJ;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACP,QAAQ,EAAE;EACjB;EAEOQ,UAAUA,CAAA;IACf,OAAO,IAAI,CAAChB,qBAAqB,CAACgB,UAAU,EAAE;EAChD;;;uBAvCWnB,oBAAoB,EAAAP,EAAA,CAAA2B,iBAAA,CAAAC,EAAA,CAAA7B,eAAA,GAAAC,EAAA,CAAA2B,iBAAA,CAAAE,EAAA,CAAAC,qBAAA,GAAA9B,EAAA,CAAA2B,iBAAA,CAAAI,EAAA,CAAAC,MAAA;IAAA;EAAA;;;YAApBzB,oBAAoB;MAAA0B,SAAA;MAAAC,QAAA,GAAAlC,EAAA,CAAAmC,kBAAA,CAFpB,CAACpC,eAAe,CAAC;MAAAqC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCT9BzC,EAAA,CAAAC,cAAA,UAAK;UACOD,EAAA,CAAA2C,UAAA,mBAAAC,sDAAA;YAAA,OAASF,GAAA,CAAA5B,OAAA,EAAS;UAAA,EAAC;UAAsBd,EAAA,CAAA6C,MAAA,eAAQ;UAAA7C,EAAA,CAAAG,YAAA,EAAS;UAGtEH,EAAA,CAAAC,cAAA,aAAiB;UACbD,EAAA,CAAA8C,UAAA,IAAAC,mCAAA,iBAEU;UACV/C,EAAA,CAAAG,YAAA,EAAM;;;UAHgBH,EAAA,CAAAI,SAAA,GAAQ;UAARJ,EAAA,CAAAK,UAAA,YAAAqC,GAAA,CAAA9B,KAAA,CAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}