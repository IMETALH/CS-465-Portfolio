{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/authentication.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nfunction LoginComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.formErrorMsg, \" \");\n  }\n}\nexport class LoginComponent {\n  constructor(authenticationService, router, formBuilder) {\n    this.authenticationService = authenticationService;\n    this.router = router;\n    this.formBuilder = formBuilder;\n    this.formErrorMsg = ''; // Initially no error message\n    this.formInvalid = false;\n  }\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      email: ['', Validators.required],\n      password: ['', Validators.required]\n    });\n  }\n  onLoginSubmit() {\n    this.formInvalid = this.loginForm.invalid;\n    if (this.loginForm.invalid) {\n      // Show a specific error message for invalid form\n      this.formErrorMsg = 'All fields are required, please try again.';\n      return;\n    }\n    this.doLogin(); // Proceed with the login if the form is valid\n  }\n\n  doLogin() {\n    this.authenticationService.login(this.loginForm.value).subscribe({\n      next: () => {\n        this.router.navigateByUrl('list-trips');\n      },\n      error: message => {\n        // Update the error message if login fails\n        this.formErrorMsg = message;\n        this.formInvalid = true;\n      }\n    });\n  }\n  static {\n    this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthenticationService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.FormBuilder));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      decls: 16,\n      vars: 2,\n      consts: [[1, \"row\"], [1, \"col-4\", \"col-md-8\", \"w-50\"], [1, \"mt-5\", 3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [\"for\", \"txtEmail\"], [\"type\", \"email\", \"formControlName\", \"email\", \"name\", \"txtEmail\", \"id\", \"txtEmail\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"txtPassword\"], [\"type\", \"password\", \"formControlName\", \"password\", \"name\", \"txtPassword\", \"id\", \"txtPassword\", \"required\", \"\", 1, \"form-control\"], [\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-info\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n          i0.ɵɵtext(3, \"Login\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"form\", 2);\n          i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_4_listener() {\n            return ctx.onLoginSubmit();\n          });\n          i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\", 4);\n          i0.ɵɵtext(7, \"E-mail\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(8, \"input\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\", 6);\n          i0.ɵɵtext(11, \"Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(12, \"input\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(13, LoginComponent_div_13_Template, 2, 1, \"div\", 8);\n          i0.ɵɵelementStart(14, \"button\", 9);\n          i0.ɵɵtext(15, \"Sign in!\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngIf\", ctx.formInvalid);\n        }\n      },\n      dependencies: [i4.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.FormGroupDirective, i3.FormControlName],\n      styles: [\".hide-alert[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7RUFDZiIsInNvdXJjZXNDb250ZW50IjpbIi5oaWRlLWFsZXJ0IHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgfVxyXG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","formErrorMsg","LoginComponent","constructor","authenticationService","router","formBuilder","formInvalid","ngOnInit","loginForm","group","email","required","password","onLoginSubmit","invalid","doLogin","login","value","subscribe","next","navigateByUrl","error","message","ɵɵdirectiveInject","i1","AuthenticationService","i2","Router","i3","FormBuilder","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵlistener","LoginComponent_Template_form_ngSubmit_4_listener","ɵɵelement","ɵɵtemplate","LoginComponent_div_13_Template","ɵɵproperty"],"sources":["C:\\Users\\Kenyk\\Desktop\\SNHUCompSci\\CS-465-Portfolio\\CS-465-Portfolio\\app_admin\\src\\app\\login\\login.component.ts","C:\\Users\\Kenyk\\Desktop\\SNHUCompSci\\CS-465-Portfolio\\CS-465-Portfolio\\app_admin\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AuthenticationService } from '../services/authentication.service';\nimport { Router } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n    selector: 'app-login',\n    templateUrl: './login.component.html',\n    styleUrls: ['./login.component.css']\n})\n\nexport class LoginComponent implements OnInit {\n  public loginForm!: FormGroup;\n  public formErrorMsg: string = ''; // Initially no error message\n  public formInvalid: boolean = false;\n\n  constructor(\n    private authenticationService: AuthenticationService,\n    private router: Router,\n    private formBuilder: FormBuilder\n  ) {}\n\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      email: ['', Validators.required],\n      password: ['', Validators.required],\n    });\n  }\n\n  public onLoginSubmit(): void {\n    this.formInvalid = this.loginForm.invalid;\n\n    if (this.loginForm.invalid) {\n      // Show a specific error message for invalid form\n      this.formErrorMsg = 'All fields are required, please try again.';\n      return;\n    }\n\n    this.doLogin(); // Proceed with the login if the form is valid\n  }\n\n  private doLogin(): void {\n    this.authenticationService.login(this.loginForm.value).subscribe({\n      next: () => {\n        this.router.navigateByUrl('list-trips');\n      },\n      error: (message) => {\n        // Update the error message if login fails\n        this.formErrorMsg = message;\n        this.formInvalid = true;\n      },\n    });\n  }\n}\n","<div class=\"row\">\n    <div class=\"col-4 col-md-8 w-50\">\n        <h2>Login</h2>\n        <form [formGroup]=\"loginForm\" class=\"mt-5\" (ngSubmit)=\"onLoginSubmit()\">\n            <div class=\"mb-3\">\n                <label for=\"txtEmail\">E-mail</label>\n                <input type=\"email\" class=\"form-control\" formControlName=\"email\" name=\"txtEmail\" id=\"txtEmail\" required />\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"txtPassword\">Password</label>\n                <input type=\"password\" class=\"form-control\" formControlName=\"password\" name=\"txtPassword\" id=\"txtPassword\" required />\n            </div>\n            <div *ngIf=\"formInvalid\" class=\"alert alert-danger\" role=\"alert\">\n                {{ formErrorMsg }}\n              </div>\n              \n            <button type=\"submit\" class=\"btn btn-info\">Sign in!</button>\n        </form>\n    </div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}